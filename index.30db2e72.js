let e,t,o,n,a,i,r,s,l,c,u,h,d,p,m,f,g,_,b,k;function y(e){return e&&e.__esModule?e.default:e}function v(...e){e.flat(1/0).forEach(e=>e?.classList.add("hidden"))}function S(...e){e.forEach(e=>e?.classList.remove("hidden"))}function w(...e){e.forEach(e=>e?.remove())}function q(e){document.querySelector(e).innerHTML=""}function N(e,...t){e.classList.remove(...t)}const L=()=>document.querySelectorAll("input[type='search']").forEach(e=>e.value="");function B(e){return Math.trunc(Math.random()*e+1)}function $(){console.log("maOv"),document.querySelector(".overlay").classList.toggle("overlay-off"),document.body.classList.toggle("no-overflow")}const U=document.querySelector(".container"),x=document.querySelector(".spinner");function j(e,t,o="beforeend"){e.insertAdjacentHTML(o,t)}function E(e,t,o=""){console.log("modal"),function(e,t,o){let n=`
        <div class="modal ${t}">
            <p class="modal__message">${o}</p>
            <button class="btn modal__btn">OK, I UNDERSTAND</button>
        </div>`;e.insertAdjacentHTML("afterbegin",n)}(e,t,o),$()}function T(){document.querySelector(".modal")?.remove(),document.querySelector(".book-modal")?.remove(),$()}function A(e){e?.target.classList.contains("navigator__link")&&(v(U),S(x))}new URL("next.5b32c023.svg",import.meta.url).toString();const H={welcome:document.querySelector(".welcome"),libraryPage:document.querySelector(".library-management"),viewAllBooksSection:document.querySelector(".view-books"),searchBookOfflineSection:document.querySelector(".search-books"),uploadBookSection:document.querySelector(".upload-book"),searchBookOnlineSection:document.querySelector(".search-online"),issueBookSection:document.querySelector(".issue-book"),contributorSection:document.querySelector(".contributor-section")};function I(e){A(e),setTimeout(()=>{S(U),v(x),v(H.welcome),S(H.libraryPage,H.viewAllBooksSection,H.searchBookOfflineSection,H.uploadBookSection,H.searchBookOnlineSection,H.issueBookSection)},300)}document.querySelector(".welcome-btn").addEventListener("click",I);const D=async()=>{try{let e=await fetch("https://api.unsplash.com/photos/random?query=bookcover&client_id=wztGNHFuJ25HJkJ8UhXkQDGo0r_rKT17DVqwBfH4p1Q");if(!e.ok)throw Error("Network response was not ok!");return(await e.json()).urls.thumb}catch(e){"TypeError"===e.name&&"Failed to fetch"===e.message?console.error("Network error: ",e.message):console.error(e)}},M={welcome:document.querySelector(".welcome"),libraryManagement:document.querySelector(".library-management"),viewAllBooks:document.querySelector(".view-books"),searchBookOffline:document.querySelector(".search-books"),uploadBook:document.querySelector(".upload-book"),searchBookOnline:document.querySelector(".search-online"),issueBook:document.querySelector(".issue-book"),contributor:document.querySelector(".contributor-section")},P=document.querySelector("#back-btn");async function C(t){A(t),setTimeout(()=>{if(P){S(U),v(x);let e=t.target.dataset.backTo;if("mainPage"===e)v(M.libraryManagement),S(M.welcome);else if("libraryPage"===e){let e=t.target.parentElement.className;v(document.querySelector(`.${e}`)),S(M.libraryManagement,M.viewAllBooks,M.searchBookOffline,M.uploadBook,M.searchBookOnline,M.issueBook)}}!t.target.closest(".library-management")||t.target.classList.contains("library-management")||t.target.classList.contains("h1")||([".library-management",".view-books",".search-books",".upload-book",".search-online",".issue-book",".contributor-section"].forEach(e=>v(document.querySelector(e))),function(e){let t=e.target.dataset.pointer;t&&S(document.querySelector(`.${t}`))}(t))},300),"search-books-offline"===t.target.dataset.pointer&&(v(document.querySelector(".search-books-offline .search-result")),w(document.querySelector(".search-result .search-result__section .book .book__info"))),"upload-book-container"===t.target.dataset.pointer&&(e=await D())}document.addEventListener("click",C);const O=[],G=[{id:crypto.randomUUID(),title:"book name A",authorName:"author name A",genre:["comedy","romance","slice of life","actions"],quantity:10,imgUrl:`book-${B(10)}.jpg`,releaseYear:2015,releaseVersion:3,popularity:8.5,pages:450,GNUlicense:!0,language:"english",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name B",authorName:"author name B",genre:["comedy","slice of life"],quantity:5,imgUrl:`book-${B(10)}.jpg`,releaseYear:2018,releaseVersion:2,popularity:8,pages:400,GNUlicense:!0,language:"english",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name C",authorName:"author name C",genre:["comedy","romance","slice of life","actions","tragedy"],quantity:0,imgUrl:`book-${B(10)}.jpg`,releaseYear:2010,releaseVersion:5,popularity:10,pages:500,GNUlicense:!0,language:"bangla",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name D",authorName:"author name D",genre:["comedy","romance","actions"],quantity:4,imgUrl:`book-${B(10)}.jpg`,releaseYear:2020,releaseVersion:1,popularity:5,pages:200,GNUlicense:!0,language:"english",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name E",authorName:"author name E",genre:["comedy","romance","slice of life","actions","adults"],quantity:8,imgUrl:`book-${B(10)}.jpg`,releaseYear:2022,releaseVersion:2,popularity:4.8,pages:200,GNUlicense:!0,language:"english",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name F",authorName:"author name F",genre:["comedy","slice of life","actions","NTR"],quantity:20,imgUrl:`book-${B(10)}.jpg`,releaseYear:2020,releaseVersion:2,popularity:10,pages:600,GNUlicense:!0,language:"english",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name G",authorName:"author name G",genre:["heroic","historical","slice of life","actions"],quantity:2,imgUrl:`book-${B(10)}.jpg`,releaseYear:2018,releaseVersion:6,popularity:7.5,pages:550,GNUlicense:!0,language:"bangla",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name H",authorName:"author name H",genre:["comedy","romance","slice of life","actions","drama"],quantity:7,imgUrl:`book-${B(10)}.jpg`,releaseYear:2010,releaseVersion:2,popularity:9.6,pages:120,GNUlicense:!0,language:"bangla",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name I",authorName:"author name I",genre:["comedy","NTR","actions"],quantity:10,imgUrl:`book-${B(10)}.jpg`,releaseYear:2021,releaseVersion:7,popularity:9.5,pages:200,GNUlicense:!0,language:"english",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name J",authorName:"author name J",genre:["Bloody","adults","slice of life","actions"],quantity:10,imgUrl:`book-${B(10)}.jpg`,releaseYear:2023,releaseVersion:3,popularity:7.1,pages:350,GNUlicense:!0,language:"bangla",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name K",authorName:"author name K",genre:["comedy","romance","historical","drama"],quantity:15,imgUrl:`book-${B(10)}.jpg`,releaseYear:2012,releaseVersion:5,popularity:10,pages:800,GNUlicense:!0,language:"bangla",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name L",authorName:"author name L",genre:["comedy","slice of life","drama","actons","adults"],quantity:30,imgUrl:`book-${B(10)}.jpg`,releaseYear:2010,releaseVersion:1,popularity:1.9,pages:300,GNUlicense:!0,language:"bangla",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name M",authorName:"author name M",genre:["comedy","school","politics","NTR"],quantity:0,imgUrl:`book-${B(10)}.jpg`,releaseYear:2015,releaseVersion:3,popularity:8.5,pages:230,GNUlicense:!0,language:"english",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name N",authorName:"author name N",genre:["comedy","actions","school","animation","webtoons"],quantity:6,imgUrl:`book-${B(10)}.jpg`,releaseYear:2002,releaseVersion:5,popularity:9.5,pages:500,GNUlicense:!0,language:"bangla",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1},{id:crypto.randomUUID(),title:"book name O",authorName:"author name O",genre:["comedy","romance","slice of life","actions"],quantity:10,imgUrl:`book-${B(10)}.jpg`,releaseYear:2015,releaseVersion:3,popularity:8.5,pages:450,GNUlicense:!0,language:"english",authorBio:"author bio link",publicationLink:"publication link",publicationName:"Haque",customBook:!1}],Y=[],V={preBooks:G};function F(){return null===localStorage.getItem("newBook")?[]:[...JSON.parse(localStorage.getItem("newBook"))]}const R=document.querySelector(".upload-book-container");let J="off";function W(_){if(_.preventDefault(),"form-upload"!==_.target.id)return;t=document.querySelector("#book-name__input").value,o=document.querySelector("#book-author__input").value,n=document.querySelector("#book-genre__input").value,a=document.querySelector("#book-language__input").value,i=document.querySelector("#book-release__input").value,r=document.querySelector("#book-release-version__input").value,s=document.querySelector("#book-popularity__input").value,l=document.querySelector("#book-page__input").value,c=document.querySelector("#book-license__y").checked,u=document.querySelector("#book-license__n").checked,h=document.querySelector("#book-author-bio__input").value,d=document.querySelector("#book-publication-link__input").value,p=document.querySelector("#book-publication-name__input").value,m=document.querySelector("#book-quantity__input").value,f=document.querySelector("#book-image__input"),console.log(c,u);let b=function(){let e=/^[a-z]+[\sa-z]*$/gi,f=/^(?:[1-9]\d{0,3}|1000)$/g,g=/^https:\/\/www\.\w+\.com$/gi,_=[t.match(e),o.match(e),n.match(/^[a-z]+[,\sa-z]*$/gi),a.match(e),i.match(f),r.match(f),s.match(f),l.match(f),h.match(g),d.match(g),p.match(e),m.match(f)],b=!0;return c||u||(b=!1),_.flat().forEach(e=>{null===e&&(b=!1)}),b}();if(_.target.closest(".upload-book-container")&&E(R,b?"success":"error",b?"Congratulation! You have successfully added a new book to the library collection.":"There might be something wrong with your input. Please check your input."),!b)return;g="on"===J?f.files[0].name:e;let k={id:crypto.randomUUID(),customBook:!0,title:t,authorName:o,genre:n,language:a,releaseYear:i,releaseVserion:r,popularity:s,pages:l,GNUlicense:!0===c,authorBio:h,publicationLink:d,publicationName:p,quantity:m,imgUrl:g};Y.push(k),localStorage.setItem("newBook",JSON.stringify([...O,Y])),history.pushState({},document.title,window.location.pathname)}document.querySelector("#form-upload"),document.addEventListener("click",e=>{e.preventDefault(),e.target.closest(".upload-book-container")&&((e.target.classList.contains("modal__btn")||e.target.classList.contains("overlay"))&&(T(),location.reload()),"form-upload"===e.target.id&&W(e))}),document.querySelector("#random-photo__label #random-photo").addEventListener("change",e=>{let t=document.querySelector("#book-image__label");e.target.checked||(w(document.querySelector("#random-photo__label")),N(t,"hidden"))}),document.querySelector("#book-image__input").addEventListener("change",e=>{J="on",g=e.target.files[0].name});var K={};K=new URL("sprite.cc17636e.svg",import.meta.url).toString();const z={newCollection:document.querySelector(".view-books-offline--new-collection ul"),trendy:document.querySelector(".view-books-offline--trending ul"),mostSell:document.querySelector(".view-books-offline--most-sell ul"),mostSearch:document.querySelector(".view-books-offline--most-search ul"),viewAll:document.querySelector(".view-books-offline--view-all ul")},Q=[],X=[],Z=[],ee=[];function et(e){let t=[];switch((function(e,t=0,o=10){let n=[],a=e=>-1===n.indexOf(e);for(;n.length<e;){let e=Math.floor(Math.random()*(o-t+1))+t;a(e)&&n.push(e)}return n})(function(e=3,t=6){return Math.trunc(Math.random()*(t-e)+1)+e}()).forEach(e=>{t.push(G[e])}),e){case"new-book":Q.push(O);break;case"trendy":X.push(...t);break;case"sells":Z.push(...t);break;case"search":ee.push(...t)}}function eo(e){let t=[G,O].flat(1/0);return"ascending"===e?t.sort((e,t)=>e.title>t.title?1:e.title<t.title?-1:0):"descending"===e?t.sort((e,t)=>e.title>t.title?-1:e.title<t.title?1:0):t}function en(e,t){let o=t.flat(1/0).map(e=>(function(e=[]){if(null!==e)return`
        <li class="book__item ${0===e.quantity?"no-quantity-book":""} ${e.quantity<=5?"low-quantity-book":""}" data-id="${e.id}">
            <section class="img">
                <img src="${e.imgUrl}" alt="sample book picture">
            </section>
            <section class="book__item__description">
                <p class="item__quantity">${e.quantity}</p>
                <h3 class="item__title">${e.title}</h3>
                <p class="item__genere">${e.genre}</p>
                <h6 class="item__author-name">${e.authorName}</h6>
            </section>
        </li>`})(e)).join("");e.innerHTML=o}function ea(){et("new-book"),et("trendy"),et("sells"),et("search"),en(z.newCollection,Q),en(z.trendy,X),en(z.mostSell,Z),en(z.mostSearch,ee),en(z.viewAll,[G,O])}document.addEventListener("DOMContentLoaded",ea),document.addEventListener("click",e=>{if(e.target.closest(".view-books-offline--view-all h1 svg")){let t=document.querySelector(".view-books-offline--view-all h1");if(e.target.closest("svg").classList.contains("sort-ascending")){t.innerHTML=`
		explore from our <span class="color-header">
		collection</span>
		<svg class="sort-descending">
					<use xlink:href="${y(K)}#sort-descending"></use>
		</svg>
`;let e=eo("descending");en(z.viewAll,e)}else{t.innerHTML=`
		explore from our <span class="color-header">
		collection</span>
		<svg class="sort-ascending">
					<use xlink:href="${y(K)}#sort-ascending"></use>
		</svg>
	`;let e=eo("ascending");en(z.viewAll,e)}}}),document.addEventListener("click",e=>{e.target.closest(".view-books-offline--new-collection h1 svg")&&(null!==localStorage.getItem("newBook")&&localStorage.removeItem("newBook"),en(z.newCollection,[]))});const ei=e=>{let t=er();return e.length>30&&e.includes("-")?el(t,e):es(t,e)},er=()=>[...Array.isArray(G)?G:[],...F()||[]],es=(e,t)=>{let o=t?.toLowerCase();return e.filter(e=>e.title?.toLowerCase().includes(o))},el=(e,t)=>e.filter(e=>e.id===t),ec=document.querySelector(".search-books-offline"),eu=document.querySelector("#search__books__offline__input"),eh=document.querySelector("#search__books__offline__btn"),ed=document.querySelector(".search-result");function ep(e){if(e.preventDefault(),e.target.closest(".search-books-offline")&&v(document.querySelector(".search-books-offline .search-result")),_?.length<1){q(".search-result .search-result__lists");return}if(b=ei(_),e.target.closest(".search-books-offline")&&0===b.length)return E(ec,"error","Sorry, we could not find the book you are looking for. Please try again."),L();S(ed),L();let t=[...b].map(e=>`<li class="book__info" data-id="${e.id}">
                <figure>
                    <img src="${e.imgUrl}" alt="${e.title}">
                </figure>
                <section class="book__info__details">
                    <p>Book name: ${e.title}</p>
                    <p>Author name: ${e.authorName}</p>
                </section>
            </li>`).join("");document.querySelector(".search-result__lists").innerHTML=t,_=""}eu.addEventListener("input",function(e){_=e.target.value}),eh.addEventListener("click",ep);const em=document.querySelector(".issue__book"),ef=document.querySelectorAll(".book__issue__step"),eg=document.querySelector(".issue__book #search__books__offline__input"),e_=document.querySelector(".issue__book .search-result__section"),eb=["find book","check availablity","check library card","provide book information","checkout processing","due date","pick up the book"],ek=(e,t="Next Step")=>`
        <button class="btn anim-btn next__step__btn dynaimc-next-btn ${6===e?"last__step":""}" data-go-next-step="${e}">
            ${t} <svg style="margin-left:1.3rem; margin-right: 0"><use  xlink:href="${y(K)}#${"OK"===t?"ok":"next"}"></use></svg>
        </button>
    `;function ey(){ef.forEach(e=>v(e)),S(ef[0])}function ev(){document.querySelector(".issue__book .issue__book__progress").innerHTML=`
        <h2>Steps 1 of 8: <span class="step__description">find book</span></h2>
    `,document.querySelector(".issue__book .step__1 ul").innerHTML=""}function eS(e){document.querySelector(".issue__book__progress h2").style.setProperty("--step-width",{2:"28.56%",3:"42.84%",4:"57.12%",5:"71.4%",6:"85.68%",7:"100%"}[e])}document.addEventListener("click",function(e){if(("issue__book"===e.target.dataset.pointer||e.target.classList.contains("next__step__btn"))&&ey(),"issue__book"===e.target.dataset.pointer&&ev(),e.target.closest(".issue__book")){if(F()&&O.push(F()),"search__books__offline__btn"===e.target.id&&function(e){if(e.preventDefault(),!e.target.closest(".issue__book"))return;w(document.querySelector(".step__1 .next__step__btn"));let t=eg.value,o=ei(t);if(t.length<1){q(".search-result__section .search-result__lists");return}if(e.target.closest(".issue__book__find__book")&&0===o.length){E(em,"error","Sorry, we could not find the book you queried. Please try again."),v(e_),L("search__books__offline__input");return}S(e_),L("search__books__offline__input"),function(e,t=[]){let o=t.map(e=>`
        <li class="book__item" id="${e.id}">
            <section class="img">
                <img src="${e?.imgUrl}" alt="${e.title}" />
            </section>
            <section class="book__item__description">
                <p class="item__quantity">${e.quantity}</p>
                <h3 class="item__title">${e.title}</h3>
                <p class="item__genere">${e.genre}</p>
                <h6 class="item__author-name">${e.authorName}</h6>
            </section>
        </li>`).join("");e.innerHTML=o}(document.querySelector(".issue__book .search-result__lists"),o),function(e,t){e.insertAdjacentHTML("afterend",t)}(e_,ek(2)),document.querySelector(".step__1 .next__step__btn").disabled=!0}(e),e.target.closest("section .book .book__item")){let t=e.target.closest(".book .book__item"),o=t.getAttribute("id");ei(o),k=ei(o),document.querySelector(".step__1 .next__step__btn").disabled=!1,document.querySelectorAll(".search-result__section .search-result__lists li").forEach(e=>e.classList.remove("select-book")),t.classList.add("select-book")}e.target.closest(".next__step__btn")&&function(e){let t=e.target.closest(".next__step__btn").dataset.goNextStep;Number(t)>7||(document.querySelector(".issue__book__progress").innerHTML=`
        <h2>Steps ${t} of 8: <span class="step__description">${eb[Number(t)-1]}</span></h2>
    `,document.querySelectorAll(".book__issue__step").forEach(e=>e.classList.add("hidden")),w(document.querySelector("[data-go-next-step]")),S(document.querySelector(`.step__${t}`)),document.querySelector(`.step__${Number(t)} .next__step__btn`)?.remove(),j(document.querySelector(`.step__${Number(t)}`),ek(Number(t)+1,"7"===t?"OK":"NEXT STEP")),2===Number(t)&&function(e){if(q(".issue__book .step__2 .book-status"),0===e[0].quantity){j(document.querySelector(".issue__book .step__2 .book-status"),'<h1 class="h1">Book Not Available</h1>');let e=document.querySelector(".issue__book .step__2 .next__step__btn");e.textContent="Previous Step",function(e,...t){e.classList.add(...t)}(e,"prev__step__btn"),N(e,"next__step__btn")}else j(document.querySelector(".issue__book .step__2 .book-status"),'<h1 class="h1">Book Available</h1>')}(k))}(e),"2"===e.target.dataset.goNextStep&&eS(2),e.target.classList.contains("prev__step__btn")&&(ey(),ev(),w(document.querySelector(".step__2 .prev__step__btn"))),("3"===e.target.dataset.goNextStep||e.target.closest(".next__step__btn svg"))&&(eS(3),v(document.querySelector(".step__3 .next__step__btn")),v(document.querySelector(".step__3 .go__library-page")),document.querySelectorAll(".step__3 .library-card__check__input").forEach(e=>e.checked=!1)),e.target.classList.contains("library-card__check__input")&&("yes"===e.target.value?(S(document.querySelector(".step__3 .next__step__btn")),v(document.querySelector(".step__3 .go__library-page"))):(S(document.querySelector(".step__3 .go__library-page")),v(document.querySelector(".step__3 .next__step__btn")))),e.target.classList.contains("go__library-page")&&(S(document.querySelector(".library-management")),document.querySelectorAll(".library-management section").forEach(e=>e.classList.remove("hidden")),v(document.querySelector(".issue__book")),v(document.querySelector(".step__3"))),("4"===e.target.dataset.goNextStep||e.target.closest(".next__step__btn svg"))&&(eS(4),function(){let e=document.querySelector(".issue__book .step__4");w(document.querySelector(".step__4 .book__info"));let t=k.map(e=>`
		<section class="book__info">
			<img src="${e.imgUrl}" alt="${e.title}">
			<section class="book__info__details">
				<p>Book Name: ${e.title}</p>
				<p>Author Name: ${e.authorName}</p>
				<p>Book Language: ${e.language}</p>
				<p>Genre: ${e.genre} </p>
				<p>Release Year: ${e.releaseYear}</p>
				<p>Release Version: ${e.releaseVersion}</p>
				<p>Popularity: ${e.popularity} </p>
				<p>Book Pages: ${e.pages} </p>
				<p>Book License: ${e.GNUlicense}</p>
				<p>Author Bio Link: ${e.authorBio} </p>
				<p>Book Publication Link: ${e.publicationLink}</p>
				<p>Publication Name: ${e.publicationName} </p>
			</section>
		</section>
    `);e.insertAdjacentHTML("afterbegin",t)}()),("5"===e.target.dataset.goNextStep||e.target.closest(".next__step__btn svg"))&&(console.log("5"),eS(5),function(){let e=document.querySelector(".issue__book .step__5 .next__step__btn"),t=document.querySelector(".issue__book .step__5 .book__issue__waiting"),o=document.querySelector(".issue__book .step__5 .book__issue__success");v(e),S(t),setTimeout(()=>{v(t),S(o),S(e)},10)}()),("6"===e.target.dataset.goNextStep||e.target.closest(".next__step__btn svg"))&&(console.log("6"),eS(6),function(){let e=new Date,t=e.getDate(),o=(e.getDay(),e.getMonth()),n=e.getFullYear(),a=e=>["January","February","March","April","May","June","July","August","September","October","November","December"][e];w(document.querySelector(".step__6 .return-book__info")),a(o),(()=>{let e=t+15,i=o+(e>new Date(n,o+1,0).getDate()?1:0),r=`
            <p class="return-book__info">Please return the book before <br> Date: ${e}, Month: ${a(i)}, Year: ${n}</p>
        `;document.querySelector(".issue__book .step__6").insertAdjacentHTML("afterbegin",r)})()}()),("7"===e.target.dataset.goNextStep||e.target.closest(".next__step__btn svg"))&&(eS(7),function(){w(document.querySelector(".issue__book .step__7 .checkout-message"));let e=`
        <p class="checkout-message">
            Thank you for choosing our library.<br />
            Have a nice day. Please visit us again.
        </p>
    `;j(document.querySelector(".issue__book .step__7"),e,"afterbegin")}(e)),("8"===e.target.dataset.goNextStep||e.target.closest(".last__step svg"))&&(v(document.querySelector(".issue__book"),document.querySelector(".issue__book").children[3]),S(document.querySelector(".library-management"),...document.querySelector(".library-management").children),function(){let e=k[0].title,t=[...V.preBooks,...F()];t.forEach(t=>{t.title===e&&(t.quantity-=1)});let o=V.preBooks.find(e=>e.id===k[0].id),n=F().filter(e=>e.id!==k[0].id);o||localStorage.setItem("newBook",JSON.stringify([...n,k[0]])),en(document.querySelector(".view-books-offline--view-all ul"),t)}())}}),null!==localStorage.getItem("newBook")&&O.push(...JSON.parse(localStorage.getItem("newBook")));const ew=[...O,...Y,...G].flat(1/0);function eq(e,t){let o=`
			<section class="book-modal">
				<svg class="modal-close">
				<use xlink:href="${y(K)}#close"></use>
				</svg>
				<figure>
					<img src="${t.imgUrl||""}" alt="${t.title}" />
				</figure>
				<section class="book-modal__description">
					<p class="book-modal__info">
					<span class="key">Name</span> : <span class="value">${t.title}</span>
					</p>
					<p class="book-modal__info">
					<span class="key">Author Name</span> : <span class="value">${t.authorName}</span>
					</p>
					<p class="book-modal__info">
					<span class="key">Popularity</span> : <span class="value">${t.popularity}</span>
					</p>
					<p class="book-modal__info">
					<span class="key">Page Number</span> : <span class="value">${t.pages}</span>
					</p>
					<p class="book-modal__info">
					<span class="key">Book Quantity</span> : <span class="value">${t.quantity}</span>
					</p>
					<p class="book-modal__info">
					<span class="key">Language</span> : <span class="value">${t.language}</span>
					</p>
					<p class="book-modal__info">
					<span class="key">Release Year</span> : <span class="value">${t.releaseYear}</span>
					</p>
					<p class="book-modal__info">
					<span class="key">Publication Name</span> : <span class="value">${t.publicationName}</span>
					</p>
					<p class="book-modal__info">
					<span class="key">Genre</span> : <span class="value">${t.genre}</span>
					</p>
				</section>
			</section>`;e.insertAdjacentHTML("afterbegin",o),$()}document.addEventListener("click",e=>{e.target.closest(".view-books-offline--container")?function(e){let t=document.querySelector(".view-books-offline--container"),o=e.target.closest(".book .book__item");if(!o)return;let n=o.dataset.id;eq(t,ew.find(e=>e.id===n))}(e):e.target.closest(".search-result__lists")&&function(e){let t=document.querySelector(".search-books-offline"),o=e.target.closest(".book .book__info");if(!o)return;let n=o.dataset.id;eq(t,ew.find(e=>e.id===n))}(e),e.target.closest(".book-modal .modal-close")&&(w(document.querySelector(".book-modal")),$())});var eN={};function eL(){var e;e=["Inter:400,600","Open Sans:400,600","Work Sans:400,600","Lato:400,700","Arimo:400,600","Roboto:400,700","Montserrat:400,600","Inconsolata:400,600"],y(eN).load({google:{families:e}})}!function(){function e(e,t,o){return e.call.apply(e.bind,arguments)}function t(e,t,o){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,n),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function o(n,a,i){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e:t).apply(null,arguments)}var n=Date.now||function(){return+new Date};function a(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var i=!!window.FontFace;function r(e,t,o,n){if(t=e.c.createElement(t),o)for(var a in o)o.hasOwnProperty(a)&&("style"==a?t.style.cssText=o[a]:t.setAttribute(a,o[a]));return n&&t.appendChild(e.c.createTextNode(n)),t}function s(e,t,o){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(o,e.lastChild)}function l(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e,t,o){t=t||[],o=o||[];for(var n=e.className.split(/\s+/),a=0;a<t.length;a+=1){for(var i=!1,r=0;r<n.length;r+=1)if(t[a]===n[r]){i=!0;break}i||n.push(t[a])}for(a=0,t=[];a<n.length;a+=1){for(r=0,i=!1;r<o.length;r+=1)if(n[a]===o[r]){i=!0;break}i||t.push(n[a])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(e,t){for(var o=e.className.split(/\s+/),n=0,a=o.length;n<a;n++)if(o[n]==t)return!0;return!1}function h(e,t,o){function n(){u&&a&&l&&(u(c),u=null)}t=r(e,"link",{rel:"stylesheet",href:t,media:"all"});var a=!1,l=!0,c=null,u=o||null;i?(t.onload=function(){a=!0,n()},t.onerror=function(){a=!0,c=Error("Stylesheet failed to load"),n()}):setTimeout(function(){a=!0,n()},0),s(e,"head",t)}function d(e,t,o,n){var a=e.c.getElementsByTagName("head")[0];if(a){var i=r(e,"script",{src:t}),s=!1;return i.onload=i.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,o&&o(null),i.onload=i.onreadystatechange=null,"HEAD"==i.parentNode.tagName&&a.removeChild(i))},a.appendChild(i),setTimeout(function(){s||(s=!0,o&&o(Error("Script load timeout")))},n||5e3),i}return null}function p(){this.a=0,this.c=null}function m(e){return e.a++,function(){e.a--,f(e)}}function f(e){0==e.a&&e.c&&(e.c(),e.c=null)}function g(e){this.a=e||"-"}function _(e,t){this.c=e,this.f=4,this.a="n";var o=(t||"n4").match(/^([nio])([1-9])$/i);o&&(this.a=o[1],this.f=parseInt(o[2],10))}function b(e){var t=[];e=e.split(/,\s*/);for(var o=0;o<e.length;o++){var n=e[o].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?t.push("'"+n+"'"):t.push(n)}return t.join(",")}function k(e){return e.a+e.f}function y(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function v(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new g("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function S(e){if(e.g){var t=u(e.f,e.a.c("wf","active")),o=[],n=[e.a.c("wf","loading")];t||o.push(e.a.c("wf","inactive")),c(e.f,o,n)}w(e,"inactive")}function w(e,t,o){e.j&&e.h[t]&&(o?e.h[t](o.c,k(o)):e.h[t]())}function q(){this.c={}}function N(e,t){this.c=e,this.f=t,this.a=r(this.c,"span",{"aria-hidden":"true"},this.f)}function L(e){s(e.c,"body",e.a)}function B(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+b(e.c)+";"+("font-style:"+y(e)+";font-weight:")+e.f+"00;"}function $(e,t,o,n,a,i){this.g=e,this.j=t,this.a=n,this.c=o,this.f=a||3e3,this.h=i||void 0}function U(e,t,o,n,a,i,r){this.v=e,this.B=t,this.c=o,this.a=n,this.s=r||"BESbswy",this.f={},this.w=a||3e3,this.u=i||null,this.m=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.m=new N(this.c,this.s),e=B(e=new _(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=e,e=B(e=new _(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=e,e=B(e=new _("serif",k(this.a))),this.j.a.style.cssText=e,e=B(e=new _("sans-serif",k(this.a))),this.m.a.style.cssText=e,L(this.g),L(this.h),L(this.j),L(this.m)}g.prototype.c=function(e){for(var t=[],o=0;o<arguments.length;o++)t.push(arguments[o].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},$.prototype.start=function(){var e=this.c.o.document,t=this,o=n(),a=new Promise(function(a,i){!function r(){var s;n()-o>=t.f?i():e.fonts.load(y(s=t.a)+" "+s.f+"00 300px "+b(s.c),t.h).then(function(e){1<=e.length?a():setTimeout(r,25)},function(){i()})}()}),i=null;Promise.race([new Promise(function(e,o){i=setTimeout(o,t.f)}),a]).then(function(){i&&(clearTimeout(i),i=null),t.g(t.a)},function(){t.j(t.a)})};var x={D:"serif",C:"sans-serif"},j=null;function E(){if(null===j){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);j=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return j}function T(e,t,o){for(var n in x)if(x.hasOwnProperty(n)&&t===e.f[x[n]]&&o===e.f[x[n]])return!0;return!1}function A(e,t){setTimeout(o(function(){l(this.g.a),l(this.h.a),l(this.j.a),l(this.m.a),t(this.a)},e),0)}function H(e,t,o){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=o}U.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=n(),function e(t){var a,i=t.g.a.offsetWidth,r=t.h.a.offsetWidth;(a=i===t.f.serif&&r===t.f["sans-serif"])||(a=E()&&T(t,i,r)),a?n()-t.A>=t.w?E()&&T(t,i,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?A(t,t.v):A(t,t.B):setTimeout(o(function(){e(this)},t),50):A(t,t.v)}(this)};var I=null;function D(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&c(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),w(e,"active")):S(e.a))}function M(e){this.j=e,this.a=new q,this.h=0,this.f=this.g=!0}function P(e,t){this.c=e,this.a=t}function C(e,t){this.c=e,this.a=t}function O(e,t){e?this.c=e:this.c=G,this.a=[],this.f=[],this.g=t||""}H.prototype.g=function(e){var t=this.a;t.g&&c(t.f,[t.a.c("wf",e.c,k(e).toString(),"active")],[t.a.c("wf",e.c,k(e).toString(),"loading"),t.a.c("wf",e.c,k(e).toString(),"inactive")]),w(t,"fontactive",e),this.m=!0,D(this)},H.prototype.h=function(e){var t=this.a;if(t.g){var o=u(t.f,t.a.c("wf",e.c,k(e).toString(),"active")),n=[],a=[t.a.c("wf",e.c,k(e).toString(),"loading")];o||n.push(t.a.c("wf",e.c,k(e).toString(),"inactive")),c(t.f,n,a)}w(t,"fontinactive",e),D(this)},M.prototype.load=function(e){this.c=new a(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var a,i=[],r=n.timeout;(a=t).g&&c(a.f,[a.a.c("wf","loading")]),w(a,"loading");var i=function(e,t,o){var n,a=[];for(n in t)if(t.hasOwnProperty(n)){var i=e.c[n];i&&a.push(i(t[n],o))}return a}(e.a,n,e.c),s=new H(e.c,t,r);for(e.h=i.length,t=0,n=i.length;t<n;t++)i[t].load(function(t,n,a){!function(e,t,n,a,i){var r=0==--e.h;(e.f||e.g)&&setTimeout(function(){var e=i||null,s=a||{};if(0===n.length&&r)S(t.a);else{t.f+=n.length,r&&(t.j=r);var l,u=[];for(l=0;l<n.length;l++){var h=n[l],d=s[h.c],p=t.a,m=h;if(p.g&&c(p.f,[p.a.c("wf",m.c,k(m).toString(),"loading")]),w(p,"fontloading",m),p=null,null===I){if(window.FontFace){var m=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),f=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);I=m?42<parseInt(m[1],10):!f}else I=!1}p=I?new $(o(t.g,t),o(t.h,t),t.c,h,t.s,d):new U(o(t.g,t),o(t.h,t),t.c,h,t.s,e,d),u.push(p)}for(l=0;l<u.length;l++)u[l].start()}},0)}(e,s,t,n,a)})}(this,new v(this.c,e),e)},P.prototype.load=function(e){var t=this,o=t.a.projectId,n=t.a.version;if(o){var a=t.c.o;d(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+o+".js"+(n?"?v="+n:""),function(n){n?e([]):(a["__MonotypeConfiguration__"+o]=function(){return t.a},function t(){if(a["__mti_fntLst"+o]){var n,i=a["__mti_fntLst"+o](),r=[];if(i)for(var s=0;s<i.length;s++){var l=i[s].fontfamily;void 0!=i[s].fontStyle&&void 0!=i[s].fontWeight?(n=i[s].fontStyle+i[s].fontWeight,r.push(new _(l,n))):r.push(new _(l))}e(r)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+o}else e([])},C.prototype.load=function(e){var t,o,n,a=this.a.urls||[],i=this.a.families||[],r=this.a.testStrings||{},s=new p;for(o=0,n=a.length;o<n;o++)h(this.c,a[o],m(s));var l=[];for(o=0,n=i.length;o<n;o++)if((a=i[o].split(":"))[1])for(var c=a[1].split(","),u=0;u<c.length;u+=1)l.push(new _(a[0],c[u]));else l.push(new _(a[0]));t=function(){e(l,r)},s.c=t,f(s)};var G="https://fonts.googleapis.com/css";function Y(e){this.f=e,this.a=[],this.c={}}var V={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},F={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},R={i:"i",italic:"i",n:"n",normal:"n"},J=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function W(e,t){this.c=e,this.a=t}var K={Arimo:!0,Cousine:!0,Tinos:!0};function z(e,t){this.c=e,this.a=t}function Q(e,t){this.c=e,this.f=t,this.a=[]}W.prototype.load=function(e){var t,o=new p,n=this.c,a=new O(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var o=t.length,n=0;n<o;n++){var a=t[n].split(":");3==a.length&&e.f.push(a.pop());var i="";2==a.length&&""!=a[1]&&(i=":"),e.a.push(a.join(i))}}(a,i);var r=new Y(i);(function(e){for(var t=e.f.length,o=0;o<t;o++){var n=e.f[o].split(":"),a=n[0].replace(/\+/g," "),i=["n4"];if(2<=n.length){var r,s,l=n[1];if(r=[],l)for(var l=l.split(","),c=l.length,u=0;u<c;u++){if((s=l[u]).match(/^[\w-]+$/)){var h=J.exec(s.toLowerCase());if(null==h)s="";else{if(s=null==(s=h[2])||""==s?"n":R[s],null==(h=h[1])||""==h)h="4";else var d=F[h],h=d||(isNaN(h)?"4":h.substr(0,1));s=[s,h].join("")}}else s="";s&&r.push(s)}0<r.length&&(i=r),3==n.length&&(n=n[2],r=[],0<(n=n?n.split(","):r).length&&(n=V[n[0]])&&(e.c[a]=n))}for(e.c[a]||(n=V[a])&&(e.c[a]=n),n=0;n<i.length;n+=1)e.a.push(new _(a,i[n]))}})(r),h(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,o=[],n=0;n<t;n++)o.push(e.a[n].replace(/ /g,"+"));return t=e.c+"?family="+o.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(a),m(o)),t=function(){e(r.a,r.c,K)},o.c=t,f(o)},z.prototype.load=function(e){var t=this.a.id,o=this.c.o;t?d(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)e([]);else if(o.Typekit&&o.Typekit.config&&o.Typekit.config.fn){t=o.Typekit.config.fn;for(var n=[],a=0;a<t.length;a+=2)for(var i=t[a],r=t[a+1],s=0;s<r.length;s++)n.push(new _(i,r[s]));try{o.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(n)}},2e3):e([])},Q.prototype.load=function(e){var t,o=this.f.id,n=this.c.o,a=this;o?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[o]=function(t,o){for(var n=0,i=o.fonts.length;n<i;++n){var r=o.fonts[n];a.a.push(new _(r.name,function(e){var t=4,o="n",n=null;return e&&((n=e.match(/(normal|oblique|italic)/i))&&n[1]&&(o=n[1].substr(0,1).toLowerCase()),(n=e.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?t=7:/[1-9]00/.test(n[1])&&(t=parseInt(n[1].substr(0,1),10)))),o+t}("font-weight:"+r.weight+";font-style:"+r.style)))}e(a.a)},d(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+((t=this.c).o.location.hostname||t.a.location.hostname)+"/"+o+".js",function(t){t&&e([])})):e([])};var X=new M(window);X.a.c.custom=function(e,t){return new C(t,e)},X.a.c.fontdeck=function(e,t){return new Q(t,e)},X.a.c.monotype=function(e,t){return new P(t,e)},X.a.c.typekit=function(e,t){return new z(t,e)},X.a.c.google=function(e,t){return new W(t,e)};var Z={load:o(X.load,X)};"function"==typeof define&&define.amd?define(function(){return Z}):eN?eN=Z:(window.WebFont=Z,window.WebFontConfig&&X.load(window.WebFontConfig))}(),window.addEventListener("load",eL);const eB={welcomePage:document.querySelector(".welcome"),libraryPage:document.querySelector(".library-management"),viewBooksPage:document.querySelector(".view-books-offline--container"),searchOfflinePage:document.querySelector(".search-books-offline"),uploadBookPage:document.querySelector(".upload-book-container"),issueBookPage:document.querySelector(".issue__book"),step1:document.querySelector(".step__1"),step1Results:document.querySelector(".step__1 .search-result__lists"),step2:document.querySelector(".step__2"),step3:document.querySelector(".step__3"),step4:document.querySelector(".step__4"),step5:document.querySelector(".step__5"),step6:document.querySelector(".step__6"),step7:document.querySelector(".step__7"),step8:document.querySelector(".step__8"),contributorPage:document.querySelector(".contributor-section")},e$=new IntersectionObserver(function(e){e.forEach(e=>{if(e.target&&e.isIntersecting)switch(e.target.classList[0]){case"welcome":eU([e.target.children[0],e.target.children[1]]),e$.unobserve(e.target);break;case"library-management":eU([e.target.children[0],e.target.children[1],e.target.children[2],e.target.children[3],e.target.children[4],e.target.children[5],e.target.children[6],e.target.children[7]]),e$.unobserve(e.target);break;case"view-books-offline--container":eU([e.target.children[0],e.target.children[1].children[0],e.target.children[1].children[1],e.target.children[2].children[0],e.target.children[2].children[1],e.target.children[3].children[0],e.target.children[3].children[1],e.target.children[4].children[0],e.target.children[4].children[1],e.target.children[5].children[0],e.target.children[5].children[1]]),e$.unobserve(e.target);break;case"search-books-offline":eU([e.target.children[0],e.target.children[1],e.target.children[2][0],e.target.children[2][1]]),e$.unobserve(e.target);break;case"upload-book-container":eU([e.target.children[0],e.target.children[1],e.target.children[2][17]]),e$.unobserve(e.target);break;case"contributor-section":eU([e.target.children[0],e.target.children[1],e.target.children[2].children[0].children[0].children[0],e.target.children[2].children[0].children[1],e.target.children[2].children[0].children[2].children[0],e.target.children[2].children[0].children[2].children[1],e.target.children[2].children[0].children[3].children[0],e.target.children[2].children[0].children[3].children[1],e.target.children[2].children[0].children[3].children[2],e.target.children[2].children[0].children[3].children[3]]),e$.unobserve(e.target);break;default:e$.unobserve(e.target)}})},{root:null,rootMargin:"0px",threshold:0});function eU(...e){e.flat(1/0).forEach(e=>e.classList.add("to-visible"))}const ex=document.querySelector(".tool-tip__book-upload"),ej=document.querySelector(".tool-tip__search-online"),eE=document.querySelector(".library-management .search-online button");I.welcomeViewControl,C.libraryPageControl,ea.offlineBookControl,ep.searchBookControl,W.uploadBookControl,function(){for(let e in eB)eB[e]&&e$.observe(eB[e])}(),ex.addEventListener("mouseenter",()=>(function(e,t=""){console.log("test");let o=`
            <section class="tool-tip">
                <p class="tool-tip__message">${t}</p>
            </section>`;e.insertAdjacentHTML("beforeend",o)})(document.querySelector("#random-photo__label"),"Fetch random online book image from Unsplash API!")),ex.addEventListener("mouseleave",function(){setTimeout(()=>{let e=document.querySelector("#random-photo__label .tool-tip");e&&e.remove()},3500)}),ej.addEventListener("mouseenter",()=>eE.textContent="this feature is still not available at the moment."),ej.addEventListener("mouseleave",function(){setTimeout(()=>{eE.textContent="search online"},3500)}),eL.fontControl,document.addEventListener("click",e=>{(e.target.classList.contains("modal__btn")||e.target.classList.contains("overlay"))&&T()});
//# sourceMappingURL=index.30db2e72.js.map
